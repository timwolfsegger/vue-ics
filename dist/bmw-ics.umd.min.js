/*!
 * bmw-ics v0.1.2 
 * (c) 2019 
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("file-saver")):"function"==typeof define&&define.amd?define(["file-saver"],t):(n=n||self,n.BmwIcs=t(n.fileSaver))}(this,function(n){"use strict";function t(n){var t=0,e=["SU","MO","TU","WE","TH","FR","SA"];if("YEARLY"!==n.freq&&"MONTHLY"!==n.freq&&"WEEKLY"!==n.freq&&"DAILY"!==n.freq)throw t+=1,"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(n.until&&isNaN(Date.parse(n.until)))throw t+=1,"Recurrence rrule 'until' must be a valid date string";if(n.interval&&isNaN(parseInt(n.interval)))throw t+=1,"Recurrence rrule 'interval' must be an integer";if(n.count&&isNaN(parseInt(n.count)))throw t+=1,"Recurrence rrule 'count' must be an integer";if(void 0!==n.byday){if("[object Array]"!==Object.prototype.toString.call(n.byday))throw t+=1,"Recurrence rrule 'byday' must be an array";if(n.byday.length>7)throw t+=1,"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";n.byday=n.byday.filter(function(t,e){return n.byday.indexOf(t)==e});for(var c in n.byday)if(e.indexOf(n.byday[c])<0)throw t+=1,"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}return 0===t}function e(n){return"\n".concat(n,"\n")}var c=[],o=function(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{uidDomain:"evildvl",prodId:"vueICS"};o.prototype.$ics={addEvent:function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-us",o=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(void 0===o||void 0===r||void 0===i||void 0===l||void 0===u)throw"You need to specify function arguments";if(g&&t(g)){if(n="RRULE:FREQ=".concat(g.freq),g.until){var f=new Date(Date.parse(g.until)).toISOString();n+=";UNTIL=".concat(f.substring(0,f.length-13).replace(/[-]/g,""),"000000Z")}g.interval&&(n+=";INTERVAL=".concat(g.interval)),g.count&&(n+=";COUNT=".concat(g.count)),g.byday&&g.byday.length>0&&(n+=";BYDAY=".concat(g.byday.join(",")))}var v=new Date(l),y=new Date(u),E=new Date,S="".concat(E.getDay()).concat(E.getMonth()).concat(E.getFullYear(),"-").concat(E.getHours()).concat(E.getMinutes()).concat(E.getSeconds()),D="0000".concat(v.getFullYear().toString()).slice(-4),h="00".concat((v.getMonth()+1).toString()).slice(-2),A="00".concat(v.getDate().toString()).slice(-2),N="00".concat(v.getHours().toString()).slice(-2),R="00".concat(v.getMinutes().toString()).slice(-2),T="00".concat(v.getSeconds().toString()).slice(-2),I="0000".concat(y.getFullYear().toString()).slice(-4),b="00".concat((y.getMonth()+1).toString()).slice(-2),p="00".concat(y.getDate().toString()).slice(-2),w="00".concat(y.getHours().toString()).slice(-2),L="00".concat(y.getMinutes().toString()).slice(-2),m="00".concat(y.getSeconds().toString()).slice(-2),M="0000".concat(E.getFullYear().toString()).slice(-4),O="00".concat((E.getMonth()+1).toString()).slice(-2),Y="00".concat(E.getDate().toString()).slice(-2),V="00".concat(E.getHours().toString()).slice(-2),U="00".concat(E.getMinutes().toString()).slice(-2),C="00".concat(E.getSeconds().toString()).slice(-2),H="",q="";N+R+T+w+L+m!=0&&(H="T".concat(N).concat(R).concat(T),q="T".concat(w).concat(L).concat(m));var F="T".concat(V).concat(U).concat(C),j=D+h+A+H,x=I+b+p+q,B=M+O+Y+F,G="\n    BEGIN:VEVENT\n    UID:".concat(S,"@").concat(a.uidDomain,"\n    ").concat(s?"URL:"+s:"","\n    DESCRIPTION:").concat(r).concat(n?"\n"+n:"","\n    DTSTAMP;VALUE=DATE-TIME:").concat(B,",\n    DTSTART;VALUE=DATE-TIME:").concat(j,"\n    DTEND;VALUE=DATE-TIME:").concat(x,"\n    LOCATION:").concat(i,"\n    ").concat(d?"ORGANIZER;CN="+d.name+":MAILTO:"+d.email:"","\n    SUMMARY;LANGUAGE=").concat(e,":").concat(o,"\n    END:VEVENT\n      ");return c=[],c.push(G),G},calendar:function(){return e("\n    BEGIN:VCALENDAR\n    PRODID:".concat(a.prodId,"\n    VERSION:2.0\n    ").concat(c.join("\n"),"\n    END:VCALENDAR\n      \n      ").replace(/^\s*[\r\n]/gm,"").replace(/^\s+/gm,""))},download:function(t){var o=e("\n    BEGIN:VCALENDAR\n    PRODID:".concat(a.prodId,"\n    VERSION:2.0\n    ").concat(c.join("\n"),"\n    END:VCALENDAR\n      \n      ").replace(/^\s*[\r\n]/gm,"").replace(/^\s+/gm,"")),r=new Blob([o],{type:"text/x-vCalendar;charset=utf-8"});n.saveAs(r,"".concat(t,".ics"))}}},a={install:o,version:"0.1.2"};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(a),a});